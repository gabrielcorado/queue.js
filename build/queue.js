(function(){var t,r,e=function(t,r){return function(){return t.apply(r,arguments)}},n=[].slice;r=function(){function t(t,r,n){this.name=t,this.fn=r,this.options=n,this.result=e(this.result,this),this._perform=e(this._perform,this),this.reset()}return t.prototype.reset=function(){return this.performed=!1,this.active=!1,this.retries=0,this.error=!1},t.prototype._perform=function(t,r){return null==t&&(t=[]),this.active=!0,this._fnCallback=r,this.fn.apply(null,t.concat(this.result)),!0},t.prototype.result=function(){var t,r;return t=arguments[0],r=2<=arguments.length?n.call(arguments,1):[],null==t&&(t=null),this.active=!1,null!=t?this.error=!0:(this.error=!1,this.performed=!0),null!=this._fnCallback&&this._fnCallback.apply(null,[t].concat(r)),!0},t}(),t=function(){function t(t){var r;this.options=null!=t?t:{},this._queue={},(r=this.options).performer||(r.performer="async")}return t.prototype._elegibleQueueActionsArr=function(){var t,r,e,n;r=[],n=this._queue;for(e in n)t=n[e],t.active||t.performed||r.push(t);return r},t.prototype.hasAction=function(t){return null!=this._queue[t]},t.prototype.add=function(t,e,n){return null==n&&(n={}),this.hasAction(t)?!1:(this._queue[t]=new r(t,e,n,this),!0)},t.prototype.remove=function(t){return this.hasAction(t)?(delete this._queue[t],!0):!1},t.prototype.action=function(t){return this.hasAction(t)?this._queue[t]:!1},t.prototype.resetAction=function(){return this.hasAction(name)?(this._queue[name].reset(),!0):!1},t.prototype.anyActive=function(){var t,r,e,n;e=!1,n=this._queue;for(r in n)if(t=n[r],t.active){e=!0;break}return e},t.prototype.anyError=function(){var t,r,e,n;e=!1,n=this._queue;for(r in n)if(t=n[r],t.error){e=!0;break}return e},t.prototype.perform=function(t){var r;return r="_performer_"+this.options.performer,"function"!=typeof this[r]?!1:(this[r].call(this,t),!0)},t.prototype._performer_async=function(){var t,r,e,n;e=this._queue,n=[];for(r in e)t=e[r],n.push(t.active||t.performed?void 0:t._perform([]));return n},t.prototype._performer_sync=function(t){var r,e;return r=this._elegibleQueueActionsArr(),(e=function(i,u){return r[i]._perform(u,function(){return function(){var u,o,s,c;return o=arguments[0],u=2<=arguments.length?n.call(arguments,1):[],c=i+1,s=r.length-1,null==o?s>c?e(c,u):r[c]._perform(u,function(){var r,e;return e=arguments[0],r=2<=arguments.length?n.call(arguments,1):[],null!=t?t.apply(null,[e].concat(r)):void 0}):void 0}}(this))})(0,[])},t}(),window.Queue=t}).call(this);//# sourceMappingURL=queue.js.map